<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DAYLIFE – Dreams</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root {
      --bg-gradient: linear-gradient(135deg,#eff6ff,#f5e9ff,#ffe4f3);
      --card-bg:#ffffff;
      --card-border:#e2e8f0;
      --text-main:#0f172a;
      --text-muted:#64748b;
      --primary:#2563eb;
      --primary-2:#7c3aed;
      --shadow-soft:0 24px 60px rgba(15,23,42,.1);
      --radius-card:24px;
    }

    *{box-sizing:border-box;}
    body {
      margin:0;
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
      background:var(--bg-gradient);
      color:var(--text-main);
      min-height:100vh;
      display:flex;
      flex-direction:column;
      align-items:center;
      padding:20px;
      opacity:0;
      transition:opacity .4s ease-in-out;
    }
    body.loaded { opacity:1; }

    h1 {
      font-size:32px;
      font-weight:700;
      text-align:center;
      margin-bottom:10px;
    }

    p {
      color:var(--text-muted);
      text-align:center;
      margin-bottom:20px;
    }

    .card {
      background:var(--card-bg);
      border:1px solid var(--card-border);
      border-radius:var(--radius-card);
      box-shadow:var(--shadow-soft);
      padding:24px;
      max-width:600px;
      width:100%;
      margin-bottom:20px;
    }

    .button {
      display:inline-block;
      background:linear-gradient(90deg,var(--primary),var(--primary-2));
      color:#fff;
      padding:10px 20px;
      border:none;
      border-radius:999px;
      cursor:pointer;
      font-weight:600;
      transition:filter .2s,transform .1s;
    }

    .button:hover { filter:brightness(1.05); transform:translateY(-1px); }

    .stats {
      display:flex;
      justify-content:space-around;
      gap:10px;
      margin-bottom:20px;
      flex-wrap:wrap;
    }

    .stat-box {
      background:#fff;
      border:1px solid var(--card-border);
      border-radius:16px;
      box-shadow:var(--shadow-soft);
      padding:16px;
      min-width:140px;
      text-align:center;
    }

    .dream-list { width:100%; max-width:600px; }

    .dream-item {
      background:#fff;
      border:1px solid var(--card-border);
      border-radius:16px;
      box-shadow:var(--shadow-soft);
      padding:16px;
      margin-bottom:12px;
    }

    .dream-item.completed { border-left:6px solid #10b981; opacity:.8; }

    .dream-title {
      font-weight:600;
      margin-bottom:6px;
    }

    .dream-actions button {
      margin-right:8px;
      font-size:12px;
      padding:6px 12px;
      border-radius:8px;
      border:none;
      cursor:pointer;
      background:#e2e8f0;
    }
    .dream-actions button.complete { background:#a7f3d0; }
    .dream-actions button.delete { background:#fecaca; }

    form {
      display:flex;
      flex-direction:column;
      gap:10px;
      margin-top:10px;
    }

    input, textarea {
      padding:8px;
      border-radius:8px;
      border:1px solid #cbd5f5;
      font-size:14px;
    }

    footer { margin-top:30px; font-size:12px; color:var(--text-muted); text-align:center; }
  </style>
</head>

<body>
  <div class="card">
    <h1 id="headline">Your Dreams</h1>
    <p id="subtitle">Turn your days into dreams, and your dreams into days.</p>

    <div class="stats">
      <div class="stat-box">
        <div id="inProgressCount" style="font-size:28px;font-weight:700;color:var(--primary);">0</div>
        <div id="inProgressLabel">In Progress</div>
      </div>
      <div class="stat-box">
        <div id="completedCount" style="font-size:28px;font-weight:700;color:#10b981;">0</div>
        <div id="completedLabel">Completed</div>
      </div>
      <div class="stat-box">
        <div id="totalCount" style="font-size:28px;font-weight:700;">0</div>
        <div id="totalLabel">Total</div>
      </div>
    </div>

    <button class="button" id="addDreamBtn">+ Add Dream</button>

    <form id="dreamForm" style="display:none;">
      <input type="text" id="dreamTitle" placeholder="Dream title" required />
      <textarea id="dreamDesc" placeholder="Description (optional)" rows="3"></textarea>
      <button type="submit" class="button">Save</button>
    </form>
  </div>

  <div class="dream-list" id="dreamList"></div>

  <footer id="footerText">© DAYLIFE 2025 — Every day counts</footer>

  <script src="assets/langs.js"></script>

  <script>
    const lang = (JSON.parse(localStorage.getItem("daylifeProfile")||"{}").lang)||"en";
    const t = LANGS[lang] || LANGS.en;

    // Traductions
    document.getElementById("headline").textContent = t.dreamsTitle || "Your Dreams";
    document.getElementById("subtitle").textContent = t.dreamsSubtitle || "Turn your days into dreams, and your dreams into days.";
    document.getElementById("inProgressLabel").textContent = t.inProgress || "In Progress";
    document.getElementById("completedLabel").textContent = t.completed || "Completed";
    document.getElementById("totalLabel").textContent = t.total || "Total";
    document.getElementById("footerText").textContent = t.footer || "© DAYLIFE 2025 — Every day counts";

    const addBtn = document.getElementById("addDreamBtn");
    const form = document.getElementById("dreamForm");
    const list = document.getElementById("dreamList");

    const dreams = JSON.parse(localStorage.getItem("dreams") || "[]");

    function renderDreams(){
      list.innerHTML = "";
      if(dreams.length === 0){
        const empty = document.createElement("p");
        empty.textContent = t.noDreams || "No dreams yet. Start by adding your first dream!";
        list.appendChild(empty);
      }
      dreams.forEach((d,index)=>{
        const item = document.createElement("div");
        item.className = "dream-item" + (d.completed ? " completed" : "");
        item.innerHTML = `
          <div class="dream-title">${d.title}</div>
          <div class="dream-desc">${d.description || ""}</div>
          <div class="dream-actions">
            <button class="complete">${d.completed ? (t.reopen||"Reopen") : (t.complete||"Complete")}</button>
            <button class="delete">${t.delete||"Delete"}</button>
          </div>
        `;
        const btns = item.querySelectorAll("button");
        btns[0].addEventListener("click",()=>{
          dreams[index].completed=!dreams[index].completed;
          saveDreams();
        });
        btns[1].addEventListener("click",()=>{
          dreams.splice(index,1);
          saveDreams();
        });
        list.appendChild(item);
      });
      updateStats();
    }

    function updateStats(){
      const total = dreams.length;
      const completed = dreams.filter(d=>d.completed).length;
      const inProgress = total - completed;
      document.getElementById("inProgressCount").textContent = inProgress;
      document.getElementById("completedCount").textContent = completed;
      document.getElementById("totalCount").textContent = total;
    }

    function saveDreams(){
      localStorage.setItem("dreams",JSON.stringify(dreams));
      renderDreams();
    }

    addBtn.addEventListener("click",()=>{
      form.style.display = form.style.display==="none" ? "block" : "none";
    });

    form.addEventListener("submit",(e)=>{
      e.preventDefault();
      const title = document.getElementById("dreamTitle").value.trim();
      if(!title) return;
      const desc = document.getElementById("dreamDesc").value.trim();
      dreams.push({title,description:desc,completed:false});
      saveDreams();
      form.reset();
      form.style.display="none";
    });

    renderDreams();

    window.addEventListener("load",()=>document.body.classList.add("loaded"));
  </script>
</body>
</html>
